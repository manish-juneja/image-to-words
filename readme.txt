This is one of the tecniques i learned from the book of generative design.
I loved this  and i really wanted to share this code.
